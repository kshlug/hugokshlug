+++
date = "2016-08-31T16:32:28+04:30"
title = "پیام دسته جمعی تلگرام"
author_link = "freetux"
tags = [
  "shell script",
  "linux",
]
draft = false
shamsiDate = "۱۰ شهریورماه ۱۳۹۵"
author = "حمید صیدی"
description = "با این اسکریپت ساده میتوانید بصورت دسته جمعی به مخاطبان خود پیام بفرستید"
category = [
  "shell script",
  "linux",
]
Slug = "tamshell"

+++

سلام.
یلدا تموم شد .امیدوارم شب یلدای به یاد موندنی رو کنار خانوادتون گذرونده باشید.



دیشب خواستم پیام تبریک یلدا بفرستم واسه مخاطبام کار بسیار طاقت فرسایی بود.باید هر مخاطبی رو یه تبریک یلدا میفرستادم با خودم گفتم چرا نباید از ظرفیت پایتون استفاده کنم یه اسکریپت بنویسم واسه اینکار.با پیایتون به نتیجه ای نرسیدم با کمک و راهنمایی دوست خوبم محمد مولایی به شل اسکریپت رسیدم.
یه مقدار جستجو کردم گزینه مناسبش رو پیدا کردم:

Telegram-cli






رو نصب کنید.و بعد:
در کد زیر دایرکتوری $HOME/tg همان دایرکتوری telegram-cli است.برای شما ممکن است متفاوت باشد.بررسی کنید و در صورت نیاز عوضش کنید.


```
nano $HOME/tg/tamshell.sh
```




اینم قطعه کد ناقابلی که باید بریزید داخل فایل:
نکته:

در کد زیر دایرکتوری $HOME/tg همان دایرکتوری telegram-cli است.برای شما ممکن است متفاوت باشد.بررسی کنید و در صورت نیاز عوضش کنید.


```bash
#!/bin/bash
message="متن پیام خود را اینجا وارد کنید "

while read line; do $HOME/tg/bin/telegram-cli -k tg-server.pub -W -e "msg "$line" $message" 
done < USERNAME.txt #آدرس فایلی که باید  مخاطباتون داخلش بریزید هر مخاطب تو یه خط
```




کافیه اسکریپت رو اجرا کنید تا نتیجه رو ببینید البته این اسکریپت یه مشکلاتی داره که میدونم شما برطرفش می کنید و واسه منم ارسالش میکنید.
